# === Seguridad GLOBAL (se declara una sola vez) ===
allow_anonymous false
password_file /mosquitto/config/passwords
acl_file      /mosquitto/config/acl.conf
persistence true
persistence_location /mosquitto/data/
log_dest stdout
log_type all
per_listener_settings false

# --- MQTT sin TLS (solo laboratorio; puedes comentarlo en producción) ---
# 
# --- MQTT con TLS (producción) ---
listener 8883
cafile   /mosquitto/certs/ca.crt
certfile /mosquitto/certs/server.crt
keyfile  /mosquitto/certs/server.key
tls_version tlsv1.2

